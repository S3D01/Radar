<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ุจูุงูุงุช ุงูุทูุงุจ</title>
</head>
<body>
  <h1>ุนุฑุถ ูุฅุถุงูุฉ ุจูุงูุงุช ุงูุทูุงุจ</h1>

  <form id="dataForm">
    <input type="text" id="name" placeholder="ุงุณู ุงูุทุงูุจ" required>
    <input type="number" id="score" placeholder="ุงูุฏุฑุฌุฉ" required>
    <button type="submit">ุฅุถุงูุฉ</button>
  </form>

  <hr>
  <ul id="sheetData"></ul>

  <script>
    const scriptURL = "https://script.google.com/macros/s/๐ฅYOUR_WEB_APP_URL๐ฅ/exec";

    // ุนุฑุถ ุงูุจูุงูุงุช
    fetch(scriptURL)
      .then(res => res.json())
      .then(data => {
        const ul = document.getElementById('sheetData');
        data.forEach(row => {
          const li = document.createElement('li');
          li.textContent = row.join(' | ');
          ul.appendChild(li);
        });
      });

    // ุฅุถุงูุฉ ุจูุงูุงุช
    document.getElementById('dataForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value;
      const score = document.getElementById('score').value;

      const formData = new URLSearchParams();
      formData.append("name", name);
      formData.append("score", score);

      fetch(scriptURL, {
        method: "POST",
        body: formData
      })
      .then(res => res.text())
      .then(msg => {
        alert(msg);
        location.reload(); // ูุฅุนุงุฏุฉ ุชุญููู ุงูุจูุงูุงุช
      })
      .catch(err => alert("ูุดู ุงูุฅุฑุณุงู"));
    });
  </script>
</body>
</html>
